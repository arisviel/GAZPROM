(*ВСИТАВИТЬ В ШАБЛОН ПАНЕЛИ, УСЛОВИЯ ЗАДАНИЯ ВХОДНЫХ ПЕРЕМЕННЫХ С ПРВОЕРКОЙ*)

(*Задача уставки*)
(*ПРЯМАЯ УСТАВКА И СРАВНЕНИЕ НЕ ВЫПОЛНИМЫХ ПАРАМЕТРОВ*)

IF SCADA_SAPV21<>SAVE_SCADA_SAPV21 THEN
    SAPV21:=SCADA_SAPV21;
    SAVE_SCADA_SAPV21:=SCADA_SAPV21;
END_IF;

IF PANEL_SAPV21<>SAVE_PANEL_SAPV21 THEN
    SAPV21:=PANEL_SAPV21;
    SAVE_PANEL_SAPV21:=PANEL_SAPV21;
END_IF; 

IF RESERV_SAPV21<>SAVE_RESERV_SAPV21 THEN
    SAPV21:=RESERV_SAPV21;
    SAVE_RESERV_SAPV21:=RESERV_SAPV21;
END_IF;

SAVEALL_SAPV21:=SAPV21;
SCADA_SAPV21:=SAVEALL_SAPV21;  
PANEL_SAPV21:=SAVEALL_SAPV21;  
RESERV_SAPV21:=SAVEALL_SAPV21;

IF Q_SKV_MIN>SAPV21 THEN
    SAPV21:=Q_SKV_MIN;
    END_IF;

IF SAPV21>Q_SKV_MAX THEN
    SAPV21:=Q_SKV_MAX;
    END_IF;

(*ВТОРОЙ РЕЖИМ*)

IF SCADA_SAPV22<>SAVE_SCADA_SAPV22 THEN
    SAPV22:=SCADA_SAPV22;
    SAVE_SCADA_SAPV22:=SCADA_SAPV22;
END_IF;

IF PANEL_SAPV22<>SAVE_PANEL_SAPV22 THEN
    SAPV22:=PANEL_SAPV22;
    SAVE_PANEL_SAPV22:=PANEL_SAPV22;
END_IF; 

IF RESERV_SAPV22<>SAVE_RESERV_SAPV22 THEN
    SAPV22:=RESERV_SAPV22;
    SAVE_RESERV_SAPV22:=RESERV_SAPV22;
END_IF;

SAVEALL_SAPV22:=SAPV22;
SCADA_SAPV22:=SAVEALL_SAPV22;  
PANEL_SAPV22:=SAVEALL_SAPV22;  
RESERV_SAPV22:=SAVEALL_SAPV22;

(*ПЕРЕВОД В ИНЖЕНЕРНЫЕ ЕДИНИЦЫ*)

SAPV22_OUT:=SAPV22*0.01*Q_SKV_MAX;

IF Q_SKV_MIN>SAPV22_OUT THEN
    SAPV22_OUT:=Q_SKV_MIN;
    SAPV22:=0;
    END_IF;

IF SAPV22_OUT>Q_SKV_MAX THEN
    SAPV22_OUT:=Q_SKV_MAX;
    SAPV22:=100;
    END_IF;

(*ТРЕТИЙ РЕЖИМ*)

IF SCADA_SAPV23<>SAVE_SCADA_SAPV23 THEN
    SAPV23:=SCADA_SAPV23;
    SAVE_SCADA_SAPV23:=SCADA_SAPV23;
END_IF;

IF PANEL_SAPV23<>SAVE_PANEL_SAPV23 THEN
    SAPV23:=PANEL_SAPV23;
    SAVE_PANEL_SAPV23:=PANEL_SAPV23;
END_IF; 

IF RESERV_SAPV23<>SAVE_RESERV_SAPV23 THEN
    SAPV23:=RESERV_SAPV23;
    SAVE_RESERV_SAPV23:=RESERV_SAPV23;
END_IF;

SAVEALL_SAPV23:=SAPV23;
SCADA_SAPV23:=SAVEALL_SAPV23;  
PANEL_SAPV23:=SAVEALL_SAPV23;  
RESERV_SAPV23:=SAVEALL_SAPV23;

(*ПЕРЕВОД В ИНЖЕНЕРНЫЕ ЕДИНИЦЫ*)

SAPV23_OUT:=((Q_SKV_MAX-Q_SKV_MIN)/100)*SAPV23+Q_SKV_MIN;

IF Q_SKV_MIN>SAPV23_OUT THEN
    SAPV23_OUT:=Q_SKV_MIN;
    SAPV23:=0;
    END_IF;

IF SAPV23_OUT>Q_SKV_MAX THEN
    SAPV23_OUT:=Q_SKV_MAX;
    SAPV23:=100;
    END_IF;

(*ЗАДАЧА ДАВЛЕНИЯ*)
IF SCADA_SAPV1<>SAVE_SCADA_SAPV1 THEN
    SAPV1:=SCADA_SAPV1;
    SAVE_SCADA_SAPV1:=SCADA_SAPV1;
END_IF;

IF PANEL_SAPV1<>SAVE_PANEL_SAPV1 THEN
    SAPV1:=PANEL_SAPV1;
    SAVE_PANEL_SAPV1:=PANEL_SAPV1;
END_IF; 

IF RESERV_SAPV1<>SAVE_RESERV_SAPV1 THEN
    SAPV1:=RESERV_SAPV1;
    SAVE_RESERV_SAPV1:=RESERV_SAPV1;
END_IF;

SAVEALL_SAPV1:=SAPV1;
SCADA_SAPV1:=SAVEALL_SAPV1;  
PANEL_SAPV1:=SAVEALL_SAPV1;  
RESERV_SAPV1:=SAVEALL_SAPV1;

IF Q_SKV_MIN>SAPV1_OUT THEN
    SAPV1:=Q_SKV_MIN;
    END_IF;

IF SAPV1_OUT>Q_SKV_MAX THEN
    SAPV1:=Q_SKV_MAX;
    END_IF;